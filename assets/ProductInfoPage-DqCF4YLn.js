import{g as X,i as Z,e as ee,a as J,b as se,d as N,S as te,r as E,o as K,c as b,f as S,h as a,j as g,w as z,u as A,F as $,k as F,l as q,m as H,n as Q,_ as U,p as ie,q as re,s as C,t as ae,v as ne,x as V,L as M,y,z as j,A as oe,U as ce,B as le,C as B,D as de,E as ue,G as pe,R as fe,H as me,I as he,J as W}from"./index-CqB4t5hb.js";import{_ as ve,a as we}from"./plus-BTY46Yz1.js";function _e(p){let{swiper:e,extendParams:r,on:d}=p;r({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let f=!1,w=!1;e.thumbs={swiper:null};function o(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const t=s.clickedIndex,c=s.clickedSlide;if(c&&c.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let l;s.params.loop?l=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):l=t,e.params.loop?e.slideToLoop(l):e.slideTo(l)}function u(){const{thumbs:s}=e.params;if(f)return!1;f=!0;const t=e.constructor;if(s.swiper instanceof t)e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Z(s.swiper)){const c=Object.assign({},s.swiper);Object.assign(c,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(c),w=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function i(s){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const c=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let l=1;const m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(l=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(l=1),l=Math.floor(l),t.slides.forEach(_=>_.classList.remove(m)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let _=0;_<l;_+=1)ee(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+_}"]`).forEach(h=>{h.classList.add(m)});else for(let _=0;_<l;_+=1)t.slides[e.realIndex+_]&&t.slides[e.realIndex+_].classList.add(m);const x=e.params.thumbs.autoScrollOffset,I=x&&!t.params.loop;if(e.realIndex!==t.realIndex||I){const _=t.activeIndex;let h,k;if(t.params.loop){const O=t.slides.filter(R=>R.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];h=t.slides.indexOf(O),k=e.activeIndex>e.previousIndex?"next":"prev"}else h=e.realIndex,k=h>e.previousIndex?"next":"prev";I&&(h+=k==="next"?x:-1*x),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(h)<0&&(t.params.centeredSlides?h>_?h=h-Math.floor(c/2)+1:h=h+Math.floor(c/2)-1:h>_&&t.params.slidesPerGroup,t.slideTo(h,s?0:void 0))}}d("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const t=X(),c=()=>{const m=typeof s.swiper=="string"?t.querySelector(s.swiper):s.swiper;if(m&&m.swiper)s.swiper=m.swiper,u(),i(!0);else if(m){const x=I=>{s.swiper=I.detail[0],m.removeEventListener("init",x),u(),i(!0),s.swiper.update(),e.update()};m.addEventListener("init",x)}return m},l=()=>{if(e.destroyed)return;c()||requestAnimationFrame(l)};requestAnimationFrame(l)}else u(),i(!0)}),d("slideChange update resize observerUpdate",()=>{i()}),d("setTransition",(s,t)=>{const c=e.thumbs.swiper;!c||c.destroyed||c.setTransition(t)}),d("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||w&&s.destroy()}),Object.assign(e.thumbs,{init:u,update:i})}function be(p){const{effect:e,swiper:r,on:d,setTranslate:f,setTransition:w,overwriteParams:o,perspective:u,recreateShadows:i,getEffectParams:s}=p;d("beforeInit",()=>{if(r.params.effect!==e)return;r.classNames.push(`${r.params.containerModifierClass}${e}`),u&&u()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const c=o?o():{};Object.assign(r.params,c),Object.assign(r.originalParams,c)}),d("setTranslate",()=>{r.params.effect===e&&f()}),d("setTransition",(c,l)=>{r.params.effect===e&&w(l)}),d("transitionEnd",()=>{if(r.params.effect===e&&i){if(!s||!s().slideShadows)return;r.slides.forEach(c=>{c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(l=>l.remove())}),i()}});let t;d("virtualUpdate",()=>{r.params.effect===e&&(r.slides.length||(t=!0),requestAnimationFrame(()=>{t&&r.slides&&r.slides.length&&(f(),t=!1)}))})}function ge(p,e){const r=J(e);return r!==e&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function xe(p){let{swiper:e,duration:r,transformElements:d,allSlides:f}=p;const{activeIndex:w}=e,o=u=>u.parentElement?u.parentElement:e.slides.filter(s=>s.shadowRoot&&s.shadowRoot===u.parentNode)[0];if(e.params.virtualTranslate&&r!==0){let u=!1,i;f?i=d:i=d.filter(s=>{const t=s.classList.contains("swiper-slide-transform")?o(s):s;return e.getSlideIndex(t)===w}),i.forEach(s=>{se(s,()=>{if(u||!e||e.destroyed)return;u=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)})})}}function Se(p){let{swiper:e,extendParams:r,on:d}=p;r({fadeEffect:{crossFade:!1}}),be({effect:"fade",swiper:e,on:d,setTranslate:()=>{const{slides:o}=e,u=e.params.fadeEffect;for(let i=0;i<o.length;i+=1){const s=e.slides[i];let c=-s.swiperSlideOffset;e.params.virtualTranslate||(c-=e.translate);let l=0;e.isHorizontal()||(l=c,c=0);const m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(s.progress),0):1+Math.min(Math.max(s.progress,-1),0),x=ge(u,s);x.style.opacity=m,x.style.transform=`translate3d(${c}px, ${l}px, 0px)`}},setTransition:o=>{const u=e.slides.map(i=>J(i));u.forEach(i=>{i.style.transitionDuration=`${o}ms`}),xe({swiper:e,duration:o,transformElements:u,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const ye={class:"swiper-container"},Ie={class:"swiper-container gallery-top"},Pe=["src"],Te={class:"swiper-container gallery-thumbs"},ke=["src"],Ce=N({__name:"IUswiper",props:{images:{}},setup(p){te.use([_e,Se]);const e=p,r=E(null),d=E(null),f=o=>{r.value=o},w=o=>{d.value=o};return K(()=>{r.value&&d.value&&(d.value.thumbs.swiper=r.value)}),(o,u)=>(b(),S("div",ye,[a("div",Ie,[g(A(Q),{ref_key:"mainSwiper",ref:d,"slides-per-view":1,"space-between":10,effect:"fade","fade-effect":{crossFade:!0},thumbs:{swiper:r.value},onSwiper:w},{default:z(()=>[(b(!0),S($,null,F(e.images,(i,s)=>(b(),q(A(H),{key:s},{default:z(()=>[a("div",{ref_for:!0,ref:"imageContainer",class:"image-container"},[a("img",{class:"swiper-image",src:i,alt:"product image"},null,8,Pe)],512)]),_:2},1024))),128))]),_:1},8,["thumbs"])]),a("div",Te,[g(A(Q),{ref_key:"thumbsSwiper",ref:r,"slides-per-view":4,"space-between":10,"watch-slides-progress":"","slide-to-clicked-slide":"",mousewheel:!0,onSwiper:f},{default:z(()=>[(b(!0),S($,null,F(e.images,(i,s)=>(b(),q(A(H),{key:s},{default:z(()=>[a("img",{class:"swiper-thumbnail",src:i,alt:"product thumbnail"},null,8,ke)]),_:2},1024))),128))]),_:1},512)])]))}}),Ee=U(Ce,[["__scopeId","data-v-b49cbaa5"]]),L=p=>(me("data-v-ccf92484"),p=p(),he(),p),ze={class:"wrapper"},Ae={class:"product-info"},$e={class:"link-container"},Fe={class:"link-home"},Le=L(()=>a("img",{class:"link-icon",src:W},null,-1)),Oe={class:"link-product"},Re=L(()=>a("img",{class:"link-icon",src:W},null,-1)),Ve={class:"link-product"},Me={key:0,class:"product-info-container"},je={class:"product-info-container-info"},Be={class:"product-info-container-info-type"},qe={class:"product-info-container-info-title"},Ne={class:"product-info-container-info-review"},Ue={class:"product-info-container-info-review-text"},De={class:"product-info-container-info-price"},Ge={key:0,class:"product-info-priceNew"},He={key:1,class:"product-info-priceDiscountPrcent"},Qe={class:"product-info-container-info-text"},Je={class:"sizeAndbuttons"},Ke={class:"product-info-container-info-size"},We=L(()=>a("p",{class:"product-info-container-info-size-title"},"Size:",-1)),Ye={class:"product-info-container-info-size-container"},Xe={class:"product-info-container-info-buttons"},Ze={class:"counter-button"},es={class:"countainer-button-text"},ss={class:"product-info-review-container"},ts={class:"review-titleAndButton"},is=L(()=>a("h3",{class:"review-title"},"All Reviews",-1)),rs={class:"review-grid"},as={class:"addReview-container"},ns={class:"recommended-container"},os=!0,cs=`
    display: flex;
    width: 400px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    background: #000;
    color: #FFF;
    font-size: 16px;
    font-weight: 500;
    border: none;
  `,ls=`
    display: flex;
    width: 400px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    background: #FFF;
    color: #000;
    font-size: 16px;
    font-weight: 500;
    border: 1px solid rgba(0, 0, 0, 0.10);
  `,ds=`
    display: flex;
    width: 166px;
    height: 48px;
    padding: 16px 20px;
    justify-content: center;
    align-items: center;
    color: #FFF;
    font-size: 16px;
    font-weight: 500;
    border-radius: 62px;
    background: #000;
    border: none;
`,us=`
    margin-top: 30px;
    display: flex;
    width: 230px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    border: 1px solid rgba(0, 0, 0, 0.10);
`,ps=N({__name:"ProductInfo",setup(p){const e=ie(),r=re(),d=C(()=>e.products),f=ae(),w=E(f.params.id),o=E(""),u=E(""),i=C(()=>e.products.find(n=>n.id.toString()===w.value)),s=ne(),t=C(()=>s.reviews.filter(n=>n.productID===d.value[1].id)),c=()=>{f.query.size&&(o.value=f.query.size)},l=n=>{u.value=n};K(()=>{s.fetchReviews(),e.fetchProducts(),c()}),V(()=>f.query.size,n=>{n&&(o.value=n)}),V(()=>f.params.id,n=>{w.value=n,e.fetchProducts()});const m=C(()=>{const n=localStorage.getItem("previousRoute");if(n){const v=n.charAt(0).toUpperCase(),T=n.slice(1).toLowerCase();return v+T}return null}),x=()=>{const n=e.products.find(v=>v.id.toString()===w.value);n&&r.addProductToCart(n,o.value)},I=C(()=>r.productsInCart.find(n=>n.id.toString()===w.value&&n.size===o.value)),_=n=>{r.deleteProductById(n,o.value)},h=()=>{I.value?_(Number(w.value)):x()},k=n=>{r.addProductToCart(n,o.value)},O=n=>{r.removeProductFromCart(n,o.value)},R=n=>{const v=r.productsInCart.find(T=>T.id===n);return(v==null?void 0:v.quantity)||0};return V(o,n=>{n&&l(n)}),(n,v)=>{var T,D,G;return b(),S("div",ze,[a("section",Ae,[g(M),a("div",$e,[a("p",Fe,y(m.value),1),Le,a("p",Oe,y((T=i.value)==null?void 0:T.style),1),Re,a("p",Ve,y((D=i.value)==null?void 0:D.type),1)]),i.value?(b(),S("div",Me,[g(Ee,{images:i.value.images},null,8,["images"]),a("div",je,[a("div",Be,[a("h1",qe,y(i.value.name),1),a("div",Ne,[(b(!0),S($,null,F(Number(i.value.rating.toString()[0]),(P,Y)=>(b(),S("img",{key:Y,class:"product-info-container-info-review-icon",src:ue}))),128)),a("p",Ue,y(i.value.rating.toString()[0])+"/5 ",1)]),a("div",De,[i.value.discount>0?(b(),S("p",Ge,y(i.value.discountPrice),1)):j("",!0),a("p",{class:oe(i.value.discount>0?"product-info-priceDiscount":"product-info-priceNew")},y(i.value.price),3),i.value.discount>0?(b(),S("div",He,y(i.value.discount)+"% ",1)):j("",!0)]),a("p",Qe,y(i.value.description),1)]),a("div",Je,[g(M),a("div",Ke,[We,a("div",Ye,[g(ce,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=P=>o.value=P),"is-product-info":os,sizes:(G=i.value)==null?void 0:G.large,onSelectSize:v[1]||(v[1]=P=>l(o.value))},null,8,["modelValue","sizes"])])]),g(M),a("div",Xe,[a("div",Ze,[a("img",{class:"minus",src:ve,onClick:v[2]||(v[2]=P=>O(i.value.id))}),a("p",es,y(R(i.value.id)),1),a("img",{class:"plus",src:we,onClick:v[3]||(v[3]=P=>k(i.value))})]),g(B,{title:I.value?"Remove from Cart":"Add to Cart","is-white":!1,style:le(I.value?ls:cs),onClick:h},null,8,["title","style"])])])])])):j("",!0),a("div",ss,[a("div",ts,[is,g(B,{title:"Write a Review","is-white":!1,style:ds})]),a("div",rs,[(b(!0),S($,null,F(t.value,P=>(b(),q(fe,pe({key:P.id,ref_for:!0},P),null,16))),128))]),a("div",as,[g(B,{title:"Load More Reviews","is-white":!0,style:us})])]),a("div",ns,[g(de,{title:"YOU MIGHT ALSO LIKE"})])])])}}}),fs=U(ps,[["__scopeId","data-v-ccf92484"]]),ms={class:"container"},hs=N({__name:"ProductInfoPage",setup(p){return(e,r)=>(b(),S("div",ms,[g(fs)]))}}),_s=U(hs,[["__scopeId","data-v-98cc6679"]]);export{_s as default};
