import{g as ee,i as te,e as se,a as J,b as ie,d as V,S as re,r as k,o as N,c as f,f as b,h as i,j as x,w as R,u as A,F as L,k as F,l as M,m as K,n as W,_ as q,p as Q,q as D,v as ae,s as Y,t as oe,x as ne,y as le,z,A as ce,B as U,L as j,C as y,D as P,E as de,U as ue,G as pe,H as B,I as fe,J as me,K as ve,R as he,M as we,N as _e,O as X}from"./index-nLaTklTt.js";function be(v){let{swiper:e,extendParams:r,on:c}=v;r({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let m=!1,o=!1;e.thumbs={swiper:null};function p(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,l=t.clickedSlide;if(l&&l.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let u;t.params.loop?u=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):u=s,e.params.loop?e.slideToLoop(u):e.slideTo(u)}function d(){const{thumbs:t}=e.params;if(m)return!1;m=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(te(t.swiper)){const l=Object.assign({},t.swiper);Object.assign(l,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(l),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",p),!0}function a(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const l=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let u=1;const h=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(u=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),s.slides.forEach(w=>w.classList.remove(h)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let w=0;w<u;w+=1)se(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+w}"]`).forEach(_=>{_.classList.add(h)});else for(let w=0;w<u;w+=1)s.slides[e.realIndex+w]&&s.slides[e.realIndex+w].classList.add(h);const S=e.params.thumbs.autoScrollOffset,T=S&&!s.params.loop;if(e.realIndex!==s.realIndex||T){const w=s.activeIndex;let _,C;if(s.params.loop){const O=s.slides.filter(n=>n.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];_=s.slides.indexOf(O),C=e.activeIndex>e.previousIndex?"next":"prev"}else _=e.realIndex,C=_>e.previousIndex?"next":"prev";T&&(_+=C==="next"?S:-1*S),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(_)<0&&(s.params.centeredSlides?_>w?_=_-Math.floor(l/2)+1:_=_+Math.floor(l/2)-1:_>w&&s.params.slidesPerGroup,s.slideTo(_,t?0:void 0))}}c("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const s=ee(),l=()=>{const h=typeof t.swiper=="string"?s.querySelector(t.swiper):t.swiper;if(h&&h.swiper)t.swiper=h.swiper,d(),a(!0);else if(h){const S=T=>{t.swiper=T.detail[0],h.removeEventListener("init",S),d(),a(!0),t.swiper.update(),e.update()};h.addEventListener("init",S)}return h},u=()=>{if(e.destroyed)return;l()||requestAnimationFrame(u)};requestAnimationFrame(u)}else d(),a(!0)}),c("slideChange update resize observerUpdate",()=>{a()}),c("setTransition",(t,s)=>{const l=e.thumbs.swiper;!l||l.destroyed||l.setTransition(s)}),c("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||o&&t.destroy()}),Object.assign(e.thumbs,{init:d,update:a})}function ge(v){const{effect:e,swiper:r,on:c,setTranslate:m,setTransition:o,overwriteParams:p,perspective:d,recreateShadows:a,getEffectParams:t}=v;c("beforeInit",()=>{if(r.params.effect!==e)return;r.classNames.push(`${r.params.containerModifierClass}${e}`),d&&d()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const l=p?p():{};Object.assign(r.params,l),Object.assign(r.originalParams,l)}),c("setTranslate",()=>{r.params.effect===e&&m()}),c("setTransition",(l,u)=>{r.params.effect===e&&o(u)}),c("transitionEnd",()=>{if(r.params.effect===e&&a){if(!t||!t().slideShadows)return;r.slides.forEach(l=>{l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>u.remove())}),a()}});let s;c("virtualUpdate",()=>{r.params.effect===e&&(r.slides.length||(s=!0),requestAnimationFrame(()=>{s&&r.slides&&r.slides.length&&(m(),s=!1)}))})}function xe(v,e){const r=J(e);return r!==e&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function Se(v){let{swiper:e,duration:r,transformElements:c,allSlides:m}=v;const{activeIndex:o}=e,p=d=>d.parentElement?d.parentElement:e.slides.filter(t=>t.shadowRoot&&t.shadowRoot===d.parentNode)[0];if(e.params.virtualTranslate&&r!==0){let d=!1,a;m?a=c:a=c.filter(t=>{const s=t.classList.contains("swiper-slide-transform")?p(t):t;return e.getSlideIndex(s)===o}),a.forEach(t=>{ie(t,()=>{if(d||!e||e.destroyed)return;d=!0,e.animating=!1;const s=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(s)})})}}function ye(v){let{swiper:e,extendParams:r,on:c}=v;r({fadeEffect:{crossFade:!1}}),ge({effect:"fade",swiper:e,on:c,setTranslate:()=>{const{slides:p}=e,d=e.params.fadeEffect;for(let a=0;a<p.length;a+=1){const t=e.slides[a];let l=-t.swiperSlideOffset;e.params.virtualTranslate||(l-=e.translate);let u=0;e.isHorizontal()||(u=l,l=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),S=xe(d,t);S.style.opacity=h,S.style.transform=`translate3d(${l}px, ${u}px, 0px)`}},setTransition:p=>{const d=e.slides.map(a=>J(a));d.forEach(a=>{a.style.transitionDuration=`${p}ms`}),Se({swiper:e,duration:p,transformElements:d,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const ke={class:"swiper-container"},Ie={class:"swiper-container gallery-top"},Te=["src"],Pe={class:"swiper-container gallery-thumbs"},Ce=["src"],Ee=V({__name:"IUswiper",props:{images:{}},setup(v){re.use([be,ye]);const e=v,r=k(null),c=k(null),m=p=>{r.value=p},o=p=>{c.value=p};return N(()=>{r.value&&c.value&&(c.value.thumbs.swiper=r.value)}),(p,d)=>(f(),b("div",ke,[i("div",Ie,[x(A(W),{ref_key:"mainSwiper",ref:c,"slides-per-view":1,"space-between":10,effect:"fade","fade-effect":{crossFade:!0},thumbs:{swiper:r.value},onSwiper:o},{default:R(()=>[(f(!0),b(L,null,F(e.images,(a,t)=>(f(),M(A(K),{key:t},{default:R(()=>[i("div",{ref_for:!0,ref:"imageContainer",class:"image-container"},[i("img",{class:"swiper-image",src:a,alt:"product image"},null,8,Te)],512)]),_:2},1024))),128))]),_:1},8,["thumbs"])]),i("div",Pe,[x(A(W),{ref_key:"thumbsSwiper",ref:r,"slides-per-view":4,"space-between":10,"watch-slides-progress":"","slide-to-clicked-slide":"",mousewheel:!0,onSwiper:m},{default:R(()=>[(f(!0),b(L,null,F(e.images,(a,t)=>(f(),M(A(K),{key:t},{default:R(()=>[i("img",{class:"swiper-thumbnail",src:a,alt:"product thumbnail"},null,8,Ce)]),_:2},1024))),128))]),_:1},512)])]))}}),$e=q(Ee,[["__scopeId","data-v-b49cbaa5"]]),Re={class:"modal"},Ae={class:"review-star"},ze=i("label",{class:"review-text",for:"review-star-select"},"Rating",-1),Le=oe('<option value="1">1 - Poor</option><option value="2">2 - Fair</option><option value="3">3 - Good</option><option value="4">4 - Very Good</option><option value="5">5 - Excellent</option>',5),Fe=[Le],Me={class:"review-user"},Ve=i("label",{class:"review-text",for:"review-user-input"},"Name",-1),Oe={class:"review-message"},De=i("label",{class:"review-text",for:"review-message-text"},"Review",-1),Ue=V({__name:"ModalAddReview",emits:["submit-review"],setup(v,{emit:e}){const r=e,c=Q(),m=k(c.params.id),o=k({stars:1,name:"",text:"",id:Date.now(),productID:m.value,posted:d(new Date)});console.log(o.value);const p=()=>{o.value.name&&o.value.text&&r("submit-review",{...o.value})};function d(a){const t={year:"numeric",month:"long",day:"numeric"};return`Posted on ${a.toLocaleDateString("en-US",t)}`}return(a,t)=>(f(),b("section",Re,[i("div",Ae,[ze,D(i("select",{id:"review-star-select","onUpdate:modelValue":t[0]||(t[0]=s=>o.value.stars=s),class:"review-star-select"},Fe,512),[[ae,o.value.stars]])]),i("div",Me,[Ve,D(i("input",{id:"review-user-input","onUpdate:modelValue":t[1]||(t[1]=s=>o.value.name=s),class:"review-user-input",type:"text",placeholder:"Enter your name"},null,512),[[Y,o.value.name]])]),i("div",Oe,[De,D(i("textarea",{id:"review-message-text","onUpdate:modelValue":t[2]||(t[2]=s=>o.value.text=s),class:"modal-textarea",rows:"4",placeholder:"Write your review here"},null,512),[[Y,o.value.text]])]),i("button",{class:"submit-button",onClick:p}," Submit Review ")]))}}),E=v=>(we("data-v-3cc26664"),v=v(),_e(),v),je={class:"wrapper"},Be={class:"product-info"},Ne={class:"link-container"},qe={class:"link-home"},Ge=E(()=>i("img",{class:"link-icon",src:X},null,-1)),He={class:"link-product"},Ke=E(()=>i("img",{class:"link-icon",src:X},null,-1)),We={class:"link-product"},Ye={key:0,class:"product-info-container"},Je={class:"product-info-container-info"},Qe={class:"product-info-container-info-type"},Xe={class:"product-info-container-info-title"},Ze={class:"product-info-container-info-review"},et={class:"product-info-container-info-review-text"},tt={class:"product-info-container-info-price"},st={key:0,class:"product-info-priceNew"},it={key:1,class:"product-info-priceDiscountPrcent"},rt={class:"product-info-container-info-text"},at={class:"sizeAndbuttons"},ot={class:"product-info-container-info-size"},nt=E(()=>i("p",{class:"product-info-container-info-size-title"},"Size:",-1)),lt={class:"product-info-container-info-size-container"},ct={class:"product-info-container-info-buttons"},dt={key:0,class:"error-message"},ut={class:"product-info-review-container"},pt={class:"review-titleAndButton"},ft=E(()=>i("h3",{class:"review-title"},"All Reviews",-1)),mt={key:0,class:"review-grid"},vt={key:1,class:"review-grid-empty"},ht=E(()=>i("p",{class:"review-grid-empty-text"}," Looks like no one has reviewed this product. You could be the first! ",-1)),wt=[ht],_t={key:2,class:"addReview-container"},bt={class:"recommended-container"},gt=!0,xt=`
    display: flex;
    width: 400px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    background: #000;
    color: #FFF;
    font-size: 16px;
    font-weight: 500;
    border: none;
  `,St=`
    display: flex;
    width: 400px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    background: #FFF;
    color: #000;
    font-size: 16px;
    font-weight: 500;
    border: 1px solid rgba(0, 0, 0, 0.10);
  `,yt=`
    display: flex;
    width: 166px;
    height: 48px;
    padding: 16px 20px;
    justify-content: center;
    align-items: center;
    color: #FFF;
    font-size: 16px;
    font-weight: 500;
    border-radius: 62px;
    background: #000;
    border: none;
`,kt=`
    margin-top: 30px;
    display: flex;
    width: 230px;
    height: 52px;
    padding: 16px 54px;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-shrink: 0;
    border-radius: 62px;
    border: 1px solid rgba(0, 0, 0, 0.10);
`,It=V({__name:"ProductInfo",setup(v){const e=ne(),r=le(),c=Q(),m=k(c.params.id),o=k(""),p=k(""),d=k(""),a=k(!1),t=z(()=>e.products.find(n=>n.id.toString()===m.value)),s=ce(),l=z(()=>s.reviews.filter(n=>{var g;return n.productID===((g=t.value)==null?void 0:g.id)})),u=()=>{c.query.size&&(o.value=c.query.size)},h=n=>{p.value=n};N(()=>{s.fetchReviews(),e.fetchProducts(),u()}),U(()=>c.query.size,n=>{n&&(o.value=n)}),U(()=>c.params.id,n=>{m.value=n,e.fetchProducts()});const S=z(()=>{const n=localStorage.getItem("previousRoute");if(n){const g=n.charAt(0).toUpperCase(),$=n.slice(1).toLowerCase();return g+$}return null}),T=()=>{const n=e.products.find(g=>g.id.toString()===m.value);n&&o.value?r.addProductToCart(n,o.value):d.value="Choose size"},w=z(()=>r.productsInCart.find(n=>n.id.toString()===m.value&&n.size===o.value)),_=n=>{r.deleteProductById(n,o.value)},C=()=>{w.value?_(Number(m.value)):T()};function O(n){s.addReview(n),a.value=!1}return N(()=>{s.fetchReviews()}),U(o,n=>{n&&h(n)}),(n,g)=>{var $,G,H;return f(),b("div",je,[i("section",Be,[x(j),i("div",Ne,[i("p",qe,y(S.value),1),Ge,i("p",He,y(($=t.value)==null?void 0:$.style),1),Ke,i("p",We,y((G=t.value)==null?void 0:G.type),1)]),t.value?(f(),b("div",Ye,[x($e,{images:t.value.images},null,8,["images"]),i("div",Je,[i("div",Qe,[i("h1",Xe,y(t.value.name),1),i("div",Ze,[(f(!0),b(L,null,F(Number(t.value.rating.toString()[0]),(I,Z)=>(f(),b("img",{key:Z,class:"product-info-container-info-review-icon",src:me}))),128)),i("p",et,y(t.value.rating.toString()[0])+"/5 ",1)]),i("div",tt,[t.value.discount>0?(f(),b("p",st,y(t.value.discountPrice),1)):P("",!0),i("p",{class:de(t.value.discount>0?"product-info-priceDiscount":"product-info-priceNew")},y(t.value.price),3),t.value.discount>0?(f(),b("div",it,y(t.value.discount)+"% ",1)):P("",!0)]),i("p",rt,y(t.value.description),1)]),i("div",at,[x(j),i("div",ot,[nt,i("div",lt,[x(ue,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=I=>o.value=I),"is-product-info":gt,sizes:(H=t.value)==null?void 0:H.large,onSelectSize:g[1]||(g[1]=I=>h(o.value))},null,8,["modelValue","sizes"])])]),x(j),i("div",ct,[x(B,{title:w.value?"Remove from Cart":"Add to Cart","is-white":!1,style:pe(w.value?St:xt),onClick:C},null,8,["title","style"]),d.value?(f(),b("p",dt,y(d.value),1)):P("",!0)])])])])):P("",!0),i("div",ut,[i("div",pt,[ft,x(B,{title:"Write a Review","is-white":!1,style:yt,onClick:g[2]||(g[2]=I=>a.value=!0)})]),l.value.length>0?(f(),b("div",mt,[(f(!0),b(L,null,F(l.value,I=>(f(),M(he,ve({key:I.id,ref_for:!0},I),null,16))),128)),a.value?(f(),M(Ue,{key:0,onClose:g[3]||(g[3]=I=>a.value=!1),onSubmitReview:O})):P("",!0)])):(f(),b("div",vt,wt)),l.value.length>6?(f(),b("div",_t,[x(B,{title:"Load More Reviews","is-white":!0,style:kt})])):P("",!0)]),i("div",bt,[x(fe,{title:"YOU MIGHT ALSO LIKE"})])])])}}}),Tt=q(It,[["__scopeId","data-v-3cc26664"]]),Pt={class:"container"},Ct=V({__name:"ProductInfoPage",setup(v){return(e,r)=>(f(),b("div",Pt,[x(Tt)]))}}),$t=q(Ct,[["__scopeId","data-v-98cc6679"]]);export{$t as default};
